<nz-layout class="layout">
  <nz-content style="padding:0 50px;">
    <div nz-row [nzType]="'flex'">
      <div nz-col [nzSpan]="8" [nzOffset]="8">
        <nz-affix>
          <div style="padding: 1em;">
            <h5>use
              <code>anchorService.scrollTo()</code> to navigate
            </h5>
            <nz-radio-group>
              <label nz-radio-button (click)="scrollTo('1')">
                <span>scroll to fisrt item</span>
              </label>
              <label nz-radio-button (click)="scrollTo('8-3')">
                <span>scroll to last item</span>
              </label>
            </nz-radio-group>
            <h5>use
              <code>anchorService.activeAnchor</code>
            </h5>
            <p>active anchor: {{anchorService.activeAnchor.id}}</p>
            <h5>use
              <code>scrollEvents observable</code>
            </h5>
            <p>active anchor: {{this.activeAnchorIds$ | async}}</p>
          </div>
        </nz-affix>
      </div>
    </div>
    <div nz-row [nzType]="'flex'">
      <div nz-col [nzSpan]="18" class="page-wrapper">
        <ng-container *ngFor="let content of contents">
          <h1 [ngxAnchor]="content.id" [header]="true">main title{{content.id}}</h1>
          <section [ngxWithAnchor]="content.id">
            long content{{content.id}}
            <ng-container *ngFor="let child of content.children">
              <h2 [ngxAnchor]="child.id">sub main title{{child.id}}</h2>
              <section [ngxWithAnchor]="child.id" [style.minHeight]="child.height">
                long sub content{{child.id}}
                <ng-container *ngFor="let child2 of child.children">
                  <h2 [ngxAnchor]="child2.id">sub2 main title{{child2.id}}</h2>
                  <section [style.height]="child2.height">
                    long sub2 content{{child2.id}}
                  </section>
                </ng-container>
              </section>
            </ng-container>
          </section>
        </ng-container>
      </div>
      <div nz-col [nzSpan]="6">
        <ngx-anchor-nav style="position: fixed;">
          <ng-template #anchorTpl let-index="id">
            <span>{{index}}</span>
          </ng-template>
        </ngx-anchor-nav>
      </div>
    </div>
  </nz-content>
</nz-layout>
